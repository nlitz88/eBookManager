<div ng-include src="'shared/components/navigation.html'"></div>
<div class="inner-wrapper">

    <ul class="list-inline">
        <li><a href="#!viewBooks">View Books</a></li>
        <li><a href="#!addBooks">Add Books</a></li>
    </ul>
    


    <center>
    <p>Add Books</p>
    <form name="addBookForm" ng-submit="ctrl.submitFields()" novalidate>

        <table>
            <!-- For each iteration, a unique "repeat form" instance is created, and therefore makes the controls unique to it -->
            <tr ng-repeat="field in ctrl.fields" ng-include="'Field'" ng-form="rowForm"></tr>
        </table>
        <p><a href="" ng-click="ctrl.addField()">Add another book</a></p>
        <button class="btn btn-primary" type="submit" value="Submit All books" ng-disabled="addBookForm.$invalid">Submit All Books</button>

    </form>
    </center>


</div>


<script type="text/ng-template" id="Field">

    <!-- <tr ng-repeat="row in addedFields"> -->
    <td ng-class="{'is-invalid': rowForm.nameField.$invalid && rowForm.nameField.$touched}">
        <input placeholder="Book Name" class="form-control input-sm" type="text" ng-model="field.bookName" name="nameField" required />
        <p ng-show="rowForm.nameField.$invalid && rowForm.nameField.$touched">Name is not valid</p>
    </td>

    <td>
        <button class="btn btn-sm" type="button" ng-click="ctrl.removeField(field)">X</button>
    </td>
    <!-- This error message is uniquely contained within EACH UNIQUE NG-FORM (REPEAT FORM) -->
        <!-- Instead of looking at Every nameField in addbookForm, we're only looking in the repeat form instaces -->
        
        
        <!-- p show when grade is not a number and that it's required -->

    <!-- get each field from within ngrepeats scope-->
</script>